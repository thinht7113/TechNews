@model List<TechNews.Domain.Entities.MenuItem>

@foreach (var item in Model)
{
    if (item.SubItems != null && item.SubItems.Any())
    {
        <!-- Dropdown -->
        <div class="relative group" x-data="{ open: false }" @@mouseenter="open = true" @@mouseleave="open = false">
            <a href="@item.Url" class="nav-link flex items-center gap-1 cursor-pointer" 
               @(item.OpenInNewTab ? "target='_blank'" : "")>
                @item.Title <i class="bi bi-chevron-down text-xs transition-transform duration-200" :class="open ? 'rotate-180' : ''"></i>
            </a>
            
            <!-- Dropdown Menu -->
            <div x-show="open" 
                 x-transition:enter="transition ease-out duration-200"
                 x-transition:enter-start="opacity-0 translate-y-2"
                 x-transition:enter-end="opacity-100 translate-y-0"
                 x-transition:leave="transition ease-in duration-150"
                 x-transition:leave-start="opacity-100 translate-y-0"
                 x-transition:leave-end="opacity-0 translate-y-2"
                 class="absolute left-0 top-full pt-2 w-48 z-50">
                <div class="bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden py-1">
                    @foreach (var sub in item.SubItems.OrderBy(s => s.Order))
                    {
                        <a href="@sub.Url" class="block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 hover:text-primary transition-colors"
                           @(sub.OpenInNewTab ? "target='_blank'" : "")>
                            @sub.Title
                        </a>
                    }
                </div>
            </div>
        </div>
    }
    else
    {
        <a href="@item.Url" class="nav-link" @(item.OpenInNewTab ? "target='_blank'" : "")>@item.Title</a>
    }
}

